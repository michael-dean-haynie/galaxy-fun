//==================================================================================================
// 
// Generated Map Script
// 
// Name:   Just Another StarCraft II Map
// 
//==================================================================================================
include "TriggerLibs/NativeLib"

//--------------------------------------------------------------------------------------------------
// Library Initialization
//--------------------------------------------------------------------------------------------------
void InitLibs () {
    libNtve_InitLib();
}

//--------------------------------------------------------------------------------------------------
// Trigger Variables
//--------------------------------------------------------------------------------------------------
trigger gt_trybank;

//--------------------------------------------------------------------------------------------------
// Custom Script: Bootstrap
//--------------------------------------------------------------------------------------------------
include "scripts/main"

//--------------------------------------------------------------------------------------------------
// Custom Script Initialization
//--------------------------------------------------------------------------------------------------
void InitCustomScript () {
    main();
}

//--------------------------------------------------------------------------------------------------
// Trigger: try bank
//--------------------------------------------------------------------------------------------------
bool gt_trybank_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_mysection_mykey_initialValue;
    int lv_mysection_mykey_newValue;

    // Automatic Variable Declarations
    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    BankLoad("cadenzashelloworldbank", 1);
    if ((BankKeyExists(BankLastCreated(), "mysection", "mykey") == true)) {
        TriggerDebugOutput(1, StringExternal("Param/Value/7906CFE0"), true);
        TriggerDebugOutput(1, IntToText(BankValueGetAsInt(BankLastCreated(), "mysection", "mykey")), true);
    }
    else {
        TriggerDebugOutput(1, StringExternal("Param/Value/73287DD7"), true);
    }
    lv_mysection_mykey_initialValue = BankValueGetAsInt(BankLastCreated(), "mysection", "mykey");
    lv_mysection_mykey_newValue = (lv_mysection_mykey_initialValue + 1);
    BankValueSetFromInt(BankLastCreated(), "mysection", "mykey", lv_mysection_mykey_newValue);
    BankSave(BankLastCreated());
    TextExpressionSetToken("Param/Expression/51FA980A", "A", FormatNumber(lv_mysection_mykey_initialValue));
    TextExpressionSetToken("Param/Expression/51FA980A", "B", FormatNumber(lv_mysection_mykey_newValue));
    TriggerDebugOutput(1, TextExpressionAssemble("Param/Expression/51FA980A"), true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void gt_trybank_Init () {
    gt_trybank = TriggerCreate("gt_trybank_Func");
    TriggerAddEventMapInit(gt_trybank);
}

//--------------------------------------------------------------------------------------------------
// Trigger Initialization
//--------------------------------------------------------------------------------------------------
void InitTriggers () {
    gt_trybank_Init();
}

//--------------------------------------------------------------------------------------------------
// Map Initialization
//--------------------------------------------------------------------------------------------------
void InitMap () {
    InitLibs();
    InitCustomScript();
    InitTriggers();
}
